ce1sus a Thread Information Database 
-------------------------------------

The purpose of ce1sus is to store any information around any kind of thread in a structured manner and 
share this information with trusted partners.

Features:
* correlation: automatically creating relations between malwares, events and attributes
* storing data in a structured format (allowing automated use of the database for various purposes)

    central IOC database: storing technical and non-technical information about malwares and attacks, ... Data from external instances is also imported into your local instance
    
    
    export: generating IDS, OpenIOC, plain text, xml output to integrate with other systems (network IDS, host IDS, custom tools, â€¦)
    import: batch-import, import from OpenIOC, GFI sandbox, ThreatConnect CSV, ...
    data-sharing: automatically exchange and synchronization with other parties and trust-groups


Requirements
---------
- python
  * python (2.7+)
  * mako (0.7+)
  * sqlalchemy (0.7+)
  * mysqldb (1.2.3)
  * python-magic (0.4.6+)
    ** https://github.com/ahupp/python-magic
  * python-ldap
  * dateutil
  * cherrypy3
  * memcache
  * rtkit (optional)
  * m2crypto  (0.21.1+)
- mysql (5.1+)
- nginx (v1.4+)

Installation
------------
- note GPG key must be owned by the owner of the web server
- configuration

Webserver
---------
There are multiple options for serving this web-app. The one used here is by running ngingx with uwsgi:
* nginx (1.4+)
* uwsgi (1.2.3+, with python-2 support)

uwsgi config (ce1sus.ini):
_______________________________________
[uwsgi]
uid = www-data
gid = www-data
pythonpath = /path/to/ce1sus
plugins = python27
module = ce1sus-run
workers = 2
vacuum = True
max-requests = 1000000
harakiri = 120
harakiri-verbose = true
need-app = true
buffer-size = 32768
listen = 200

master-as-root = true
max-fd = 10240
#memory-report = true
#stats = /tmp/stats.socket
chown-socket = www-data
_______________________________________


nginx config:
_______________________________________
server {
  listen 443;
  server_name <servername>;

  root /path/to/ce1sus/ce1sus/public;

  access_log /var/log/nginx/ce1sus_access.log common;
  error_log /var/log/nginx/ce1sus_error.log;

  ssl on;
  ssl_certificate /etc/ssl/certs/ssl-cert-snakeoil.pem;
  ssl_certificate_key /etc/ssl/private/ssl-cert-snakeoil.key;

  ssl_ciphers AESGCM:SHA512:SHA384:SHA256:AES128:SHA512:SHA384:SHA256:-SSLv3:-RC4:HIGH:!MD5:!aNULL:!eNULL:!EDH;
  ssl_protocols TLSv1.2 TLSv1.1 TLSv1;
  ssl_prefer_server_ciphers on;
  ssl_session_cache    shared:SSL:10m;
  ssl_session_timeout  5m;

  location /css {
    root /path/to/ce1sus/ce1sus/public;
  }

  location /images {
    root /path/to/ce1sus/ce1sus/public;
  }

  location /img {
    root /path/to/ce1sus/ce1sus/public;
  }

  location /js {
    root /path/to/ce1sus/ce1sus/public;
  }

  location / {
    uwsgi_pass unix:/run/uwsgi/app/ce1sus/socket;
    include     uwsgi_params;
    uwsgi_param SCRIPT_NAME "";
    uwsgi_param HTTPS on;
  }
}
_______________________________________


ChangeLog
---------

Documentation
-------------
- See below

RoadMap
-------
- Write a complete documentaion
