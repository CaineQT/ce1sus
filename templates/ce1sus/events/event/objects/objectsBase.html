# -*- coding: utf-8 -*-

<%namespace name="modals" file="/dagr/components/modals.html"/>
<%namespace name="baseForms" file="/dagr/components/forms.html"/> 
<%namespace name="collapse" file="/components/collapse.html"/>


<div class="row-fluid">
    <div class="span3">
        <div id="objectLeft">
	        <div class="btn-group">
			  <a href="#addObjectModal" role="button" class="btn" data-toggle="modal">Add new Object</a>
			</div>
			<br />
			<div class="row-fluid">
			  <div class="span12">
			  <legend>Objects</legend>
			  <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu"
			     style="display: block; position: static; margin-bottom: 5px; *width: 180px;">
				  <%call expr="collapse.menuItem(objectList)"/>
			   </ul>
			  </div>
			</div>
        </div>
    </div>
    <div class="span8">
        <div id="objectRight">
            <div style="padding-bottom: 15px">
	            <div class="btn-group">
	              <button class="btn" onclick="$('.collapse').each(function (index) {$(this).collapse('show');});">Open All</button>
	              <button class="btn" onclick="$('.collapse').each(function (index) {$(this).collapse('hide');});">Close All</button>
	            </div>
            </div>
            <%call expr="collapse.node(eventID, objectList, paginator)"/>
        </div>
    </div>
</div>




<script type="text/javascript">
$(document).ready(function() {
	//Strange workaround
    openAllColapses('${objectID}');
});
</script>


<%call expr="baseForms.genericModalForm(modalID='addObjectModal',url='/events/event/objects/attachObject',refreshUrl='/events/event/objects/objects/{0}'.format(eventID),refreshContainer='eventTabs{0}TabContent'.format(eventID))">
<%call expr="modals.saveButtonModal(id='addObjectModal',title='Add object',contentUrl='/events/event/objects/addObject/{0}'.format(eventID))"/>
</%call>