# -*- coding: utf-8 -*-



<%namespace name="modals" file="/dagr/components/modals.html"/>
<%namespace name="baseForms" file="/dagr/components/forms.html"/> 
<%namespace name="nav" file="/dagr/components/navigation.html"/> 

<div class="btn-group">
	<a href="#addSubGroupModal" role="button" class="btn btn-default" data-toggle="modal">Add
		new subGroup</a>
</div>
<div style="height:15px"/>
<% 
foundGroup=False 
fistGroupID=0
selected = True
%>
<!--list of groups -->
<script type="text/javascript">
function loadGroup(groupID){
	loadContent('groupRight','/admin/subgroups/rightContent?subGroupid='+groupID);
}
</script>

<div id="pannelDiv" style="overflow:auto;height:90%;width:100%;padding-bottom:5px"> 
<ul class="nav nav-pills nav-stacked" style="max-width: 300px;">
	%if not groups is None: 
		% for group in groups:
		  <%call expr="nav.leftMenuItem(group.identifier, 'loadGroup({0})'.format(group.identifier),group.name,selected)"/>
		  <%
		  if not foundGroup:
		      fistGroupID = group.identifier
		      foundGroup=True
		      selected=False
		  %>
		  
		% endfor 
	%endif
	
</ul>
</div>
<!-- AddGroupForm -->
<%call expr="baseForms.genericModalForm(modalID='addSubGroupModal',url='/admin/subgroups/modifySubGroup',refreshUrl='/admin/subgroups', refreshContainer='adminTabsTabContent')">
<input type="hidden" name="action" value="insert">
<%call expr="modals.saveButtonModal(id='addSubGroupModal',title='Add group',contentUrl='/admin/subgroups/addSubGroup')"/>
</%call>

<script type="text/javascript">
$(document).ready(function() {
    
	loadGroup(${fistGroupID});
	resizeScrollPannel('pannelDiv');
});
</script>