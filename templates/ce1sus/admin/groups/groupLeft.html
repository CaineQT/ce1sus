# -*- coding: utf-8 -*-



<%namespace name="modals" file="/c17Works/components/modals.html"/>
<%namespace name="baseForms" file="/c17Works/components/forms.html"/> 


<div class="btn-group">
	<a href="#addGroupModal" role="button" class="btn" data-toggle="modal">Add
		new group</a>
</div>
<br />
<% 
foundGroup=False 
fistGroupID=0
%>
<br/>
<!--list of groups -->
<script type="text/javascript">
function loadGroup(groupID){
	loadContent('groupRight','/admin/groups/rightContent?groupid='+groupID);
}
</script>


<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu"
	style="display: block; position: static; margin-bottom: 5px; *width: 180px;">
	%if not groups is None: 
		% for group in groups:
		  <%
		  if not foundGroup:
		      fistGroupID = group.identifier
		      foundGroup=True
		  %>
		   <li><a tabindex="-1" href="#" onclick="loadGroup(${group.identifier})">${group.name}</a></li>
		% endfor 
	%endif
	
</ul>

<!-- AddGroupForm -->
<%call expr="baseForms.genericModalForm(modalID='addGroupModal',url='/admin/groups/modifyGroup')">
<input type="hidden" name="action" value="insert">
<%call expr="modals.saveButtonModal(id='addGroupModal',title='Add group',contentUrl='/admin/groups/addGroup')"/>
</%call>

<script type="text/javascript">
$(document).ready(function() {
	loadGroup(${fistGroupID})
});
</script>